(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(21),r=a.n(c),i=(a(71),a(15)),o=a.n(i),l=(a(72),a(112)),d=a(111),j=a.p+"static/media/nn-logo-brown-transparent.b875e525.png",u=a(11),m=a.n(u),b=a(10),h=a(9),p=a.n(h);p.a.defaults.baseURL="http://localhost:8000/api/",p.a.defaults.headers.post["Content-Type"]="multipart/form-data",p.a.defaults.withCredentials=!0;const x=p.a.create(),O=p.a.create();var v=a(8),g=a(1);const f=Object(n.createContext)(),_=Object(n.createContext)(),N=()=>Object(n.useContext)(f),y=()=>Object(n.useContext)(_),C=e=>{let{children:t}=e;const[a,s]=Object(n.useState)(null),c=Object(v.useHistory)();return Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await O.get("dj-rest-auth/user/");s(e)}catch(e){console.log(e)}})()}),[]),Object(n.useMemo)((()=>{x.interceptors.request.use((async e=>{try{await p.a.post("dj-rest-auth/token/refresh/")}catch(t){return s((e=>(e&&c.push("/sign-in"),null))),e}return e}),(e=>Promise.reject(e))),O.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await p.a.post("dj-rest-auth/token/refresh/")}catch(e){s((e=>(e&&c.push("/sign-in"),null)))}return p()(e.config)}return Promise.reject(e)}))}),[c]),Object(g.jsx)(f.Provider,{value:a,children:Object(g.jsx)(_.Provider,{value:s,children:t})})};var w=a(63),A=a.n(w);var L=e=>{let{src:t,height:a=45,text:n}=e;return Object(g.jsxs)("span",{children:[Object(g.jsx)("img",{className:A.a.Avatar,src:t,height:a,width:a,alt:"avatar"}),n]})};var k=()=>{const[e,t]=Object(n.useState)(!1),a=Object(n.useRef)(null);return Object(n.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[a]),{expanded:e,setExpanded:t,ref:a}};var B=()=>{const e=N(),t=y(),{expanded:a,setExpanded:n,ref:s}=k(),c=Object(g.jsxs)(b.NavLink,{exact:!0,to:"/posts/create",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fa-solid fa-plus-square"}),"New Post"]}),r=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(b.NavLink,{exact:!0,to:"/my-feed",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fas fa-house-user"}),"My Feed"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:"/liked",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fa-solid fa-heart"}),"Likes"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:`/profiles/${null===e||void 0===e?void 0:e.profile_id}`,className:m.a.NavLink,children:[Object(g.jsx)(L,{src:null===e||void 0===e?void 0:e.profile_image,height:40}),null===e||void 0===e?void 0:e.username,"'s Profile"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:"/log-out",className:m.a.NavLink,activeClassName:m.a.Active,onClick:async()=>{try{await p.a.post("dj-rest-auth/logout/"),t(null)}catch(e){console.log(e)}},children:[Object(g.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"}),"Log Out"]})]}),i=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(b.NavLink,{exact:!0,to:"/welcome#hero",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fas fa-home"}),"Welcome"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:"/welcome#about-us",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fa-solid fa-info"}),"About Us"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:"/welcome#community-guidelines",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fa-regular fa-file-lines"}),"Community Guidelines"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:"/sign-in",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fa-solid fa-sign-in-alt"}),"Sign In"]}),Object(g.jsxs)(b.NavLink,{exact:!0,to:"/sign-up",className:m.a.NavLink,activeClassName:m.a.Active,children:[Object(g.jsx)("i",{className:"fa-solid fa-user-plus"}),"Sign up"]})]});return Object(g.jsxs)(l.a,{expanded:a,className:m.a.NavBar,expand:"md",fixed:"top",children:[Object(g.jsx)(b.NavLink,{exact:!0,to:"/",children:Object(g.jsx)(l.a.Brand,{children:Object(g.jsx)("img",{src:j,alt:"Logo",className:m.a.navbarLogo})})}),e&&c,Object(g.jsx)(l.a.Toggle,{ref:s,onClick:()=>n(!a),"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(g.jsx)(d.a,{className:"ml-auto",children:e?r:i})})]})},S=a(39),I=a(40),W=a(22),T=a(7),F=a(24),P=a(53),E=a(19),R=a.n(E),U=a(12),G=a.n(U);var D=()=>{var e,t,a,s;const[c,r]=Object(n.useState)({username:"",password1:"",password2:""}),{username:i,password1:o,password2:l}=c,[d,j]=Object(n.useState)({}),u=Object(b.useHistory)(),m=e=>{r({...c,[e.target.name]:e.target.value})},[h,x]=Object(n.useState)(!1);return Object(g.jsxs)(S.a,{className:`d-flex flex-column align-items-center justify-content-center ${R.a["su-bg-image"]}`,children:[Object(g.jsx)(I.a,{children:Object(g.jsx)(W.a,{children:Object(g.jsx)("h1",{className:`${R.a.Header}`,children:"Sign Up"})})}),Object(g.jsx)(I.a,{children:Object(g.jsx)(W.a,{children:Object(g.jsxs)(T.a,{onSubmit:async e=>{e.preventDefault();try{await p.a.post("/dj-rest-auth/registration/",c),u.push("/sign-in")}catch(a){var t;j(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(g.jsxs)(T.a.Group,{controlId:"username",children:[Object(g.jsx)(T.a.Label,{className:"d-none",children:"username"}),Object(g.jsx)(T.a.Control,{className:R.a.Input,type:"text",placeholder:"Username",name:"username",value:i,onChange:m})]}),null===(e=d.username)||void 0===e?void 0:e.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{controlId:"password1",children:[Object(g.jsx)(T.a.Label,{className:"d-none",children:"Password"}),Object(g.jsx)(T.a.Control,{className:R.a.Input,type:"password",placeholder:"Password",name:"password1",value:o,onChange:m})]}),null===(t=d.password1)||void 0===t?void 0:t.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{controlId:"password2",children:[Object(g.jsx)(T.a.Label,{className:"d-none",children:"Confirm password"}),Object(g.jsx)(T.a.Control,{className:R.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:l,onChange:m})]}),null===(a=d.password2)||void 0===a?void 0:a.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{className:R.a.Link,controlId:"formCheckbox",children:[Object(g.jsx)(T.a.Check,{type:"checkbox",label:"I have read and agree to adhere to the community guidelines.",checked:h,onChange:()=>{x(!h)}}),Object(g.jsx)("div",{className:"d-flex justify-content-center",children:Object(g.jsx)(b.Link,{to:"/welcome#community-guidelines",children:"Read our community guidelines."})})]}),Object(g.jsx)(P.a,{className:`${G.a.Button} ${G.a.Wide} ${G.a.Bright}`,type:"submit",disabled:!h,children:"Sign up"}),null===(s=d.non_field_errors)||void 0===s?void 0:s.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",className:"mt-3",children:e},t)))]})})}),Object(g.jsx)(I.a,{children:Object(g.jsx)(W.a,{children:Object(g.jsx)(b.Link,{className:R.a.Link,to:"/sign-in",children:"Already have an account? Sign in here."})})})]})},$=a(17),H=a.n($);var M=()=>{const{hash:e}=Object(b.useLocation)();return Object(n.useEffect)((()=>{if(e){const t=document.getElementById(e.substring(1));t&&t.scrollIntoView({behavior:"smooth"})}}),[e]),Object(g.jsxs)(S.a,{fluid:!0,children:[Object(g.jsx)(I.a,{className:H.a.Row,children:Object(g.jsx)(W.a,{className:H.a.Hero,children:Object(g.jsxs)("div",{id:"hero",className:H.a.WelcomeTitleContent,children:[Object(g.jsx)("p",{className:`${o.a.RobotoFont} \n                        ${H.a.WelcomeSlogan} \n                        ${o.a.WhiteText}`,children:"Welcome to"}),Object(g.jsx)("h1",{className:`${o.a.DmSerifFont} \n                        ${H.a.WelcomeLogo} \n                        ${o.a.WhiteText}`,children:"Nomad Narratives"}),Object(g.jsx)("p",{className:`${o.a.RobotoFont} \n                        ${H.a.WelcomeSlogan} \n                        ${o.a.WhiteText}`,children:"Where will your next story take you? \ud83c\udf0d\u2708\ufe0f"})]})})}),Object(g.jsxs)(I.a,{className:H.a.Row,children:[Object(g.jsx)(W.a,{className:H.a.ImageCol,children:Object(g.jsx)("img",{className:H.a.DecorImage,src:"https://res.cloudinary.com/dimeyes2b/image/upload/v1741679079/home-image-1_qcmr5e.jpg",alt:"Waves crashing again rough, black volcanic rocks."})}),Object(g.jsxs)(W.a,{className:H.a.TextCol,children:[Object(g.jsx)("h2",{id:"about-us",className:H.a.SubSectionTitle,children:"About Us"}),Object(g.jsx)("p",{children:"Welcome to Nomad Narratives \u2013 a travel blog where every journey has a story. Whether you\u2019re chasing sunsets in Bali, backpacking through Europe, or discovering hidden gems in your own backyard, this is the place to share and explore real travel experiences."}),Object(g.jsx)("p",{children:"Browse stories by destination, topic, or traveller, and immerse yourself in stunning visuals from around the world. Join our community, share your adventures, and get inspired for your next trip!"}),Object(g.jsx)(b.Link,{className:`${G.a.Button} \n                        ${G.a.Wide} \n                        ${G.a.Bright}`,to:"/sign-up",children:"Ready to get started? Sign up here!"})]})]}),Object(g.jsx)(I.a,{className:H.a.Row,children:Object(g.jsxs)(W.a,{className:H.a.TextCol,children:[Object(g.jsx)("h2",{id:"community-guidelines",className:H.a.SubSectionTitle,children:"Community Guidelines"}),Object(g.jsx)("p",{children:"Welcome to Nomad Narratives! We're thrilled to have you as part of our community of travelers, storytellers, and adventure-seekers. To ensure this space remains welcoming, inspiring, and respectful for all, please follow these guidelines:"}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"1. Be Respectful & Kind"})}),Object(g.jsx)("p",{children:"Everyone\u2019s journey is unique. Treat fellow travelers with respect, even if you have different opinions or experiences. No hate speech, discrimination, or harassment of any kind will be tolerated."}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"2. Share Honest & Authentic Stories"})}),Object(g.jsx)("p",{children:"We value genuine travel experiences. Share your stories truthfully and avoid misinformation, exaggerated claims, or misleading content."}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"3. Give Credit Where It's Due"})}),Object(g.jsx)("p",{children:"If you include photos, quotes, or recommendations from others, be sure to give proper credit. Plagiarism or unauthorized use of content is not allowed."}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"4. Keep It Safe & Responsible"})}),Object(g.jsx)("p",{children:"Avoid sharing dangerous or reckless travel behaviors that could put others at risk. Be mindful of local cultures, customs, and environments when sharing your experiences."}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"5. No Spam or Self-Promotion"})}),Object(g.jsx)("p",{children:"We love hearing about your travels, but excessive self-promotion, ads, or irrelevant content will be removed. If you want to collaborate or promote something, please reach out to us directly."}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"6. Protect Privacy"})}),Object(g.jsx)("p",{children:"Don\u2019t share personal or sensitive information\u2014yours or others'. Respect people\u2019s privacy when posting about your experiences."}),Object(g.jsx)("p",{children:Object(g.jsx)("strong",{children:"7. Report Issues"})}),Object(g.jsx)("p",{children:"If you see content that violates these guidelines, please report it. We\u2019re committed to maintaining a positive and supportive space for all travelers."}),Object(g.jsx)("p",{children:"By being a user of Nomad Narratives, you agree to uphold these guidelines and contribute to a vibrant, respectful, and inspiring travel community. Let\u2019s explore the world together\u2014one story at a time! \ud83c\udf0d\u2728"})]})})]})};var Q=()=>{var e,t,a;const s=y(),[c,r]=Object(n.useState)({username:"",password:""}),{username:i,password:o}=c,[l,d]=Object(n.useState)({}),j=Object(b.useHistory)(),u=e=>{r({...c,[e.target.name]:e.target.value})};return Object(g.jsxs)(S.a,{className:`d-flex flex-column align-items-center justify-content-center ${R.a["si-bg-image"]}`,children:[Object(g.jsx)(I.a,{children:Object(g.jsx)(W.a,{children:Object(g.jsx)("h1",{className:`${R.a.Header}`,children:"Sign In"})})}),Object(g.jsx)(I.a,{children:Object(g.jsx)(W.a,{children:Object(g.jsxs)(T.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await p.a.post("/dj-rest-auth/login/",c);s(e.user),j.push("/my-feed")}catch(a){var t;d(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(g.jsxs)(T.a.Group,{controlId:"username",children:[Object(g.jsx)(T.a.Label,{className:"d-none",children:"username"}),Object(g.jsx)(T.a.Control,{className:R.a.Input,type:"text",placeholder:"Username",name:"username",value:i,onChange:u})]}),null===(e=l.username)||void 0===e?void 0:e.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{controlId:"password",children:[Object(g.jsx)(T.a.Label,{className:"d-none",children:"Password"}),Object(g.jsx)(T.a.Control,{className:R.a.Input,type:"password",placeholder:"Password",name:"password",value:o,onChange:u})]}),null===(t=l.password)||void 0===t?void 0:t.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsx)(P.a,{className:`${G.a.Button} ${G.a.Wide} ${G.a.Bright}`,type:"submit",children:"Sign in"}),null===(a=l.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",className:"mt-3",children:e},t)))]})})}),Object(g.jsx)(I.a,{children:Object(g.jsx)(W.a,{children:Object(g.jsx)(b.Link,{className:R.a.Link,to:"/sign-up",children:"Don't have an account? Sign up here!"})})})]})},Y=a(65),J=a.n(Y),Z=a(106),q=a(66),X=a.n(q);var z=e=>{let{spinner:t,src:a,message:n}=e;return Object(g.jsxs)("div",{className:`${X.a.Asset} p-4`,children:[t&&Object(g.jsx)(Z.a,{animation:"border"}),a&&Object(g.jsx)("img",{src:a,alt:n}),n&&Object(g.jsx)("p",{className:"mt-4",children:n})]})},K=a(107);const V="http://localhost:8000";var ee=function(){var e,t,a,s,c,r,i,l,d;const[j,u]=Object(n.useState)({}),[m,b]=Object(n.useState)({title:"",content:"",image:"",image_alt_text:"",duration_value:"",duration_unit:"",traveller_number:"",relevant_for:""}),{title:h,content:O,image:f,image_alt_text:_,duration_value:N,duration_unit:y,traveller_number:C,relevant_for:w}=m,[A,L]=Object(n.useState)([]),[k,B]=Object(n.useState)([]),[E,R]=Object(n.useState)(null),[U,D]=Object(n.useState)(null),$=Object(n.useRef)(null),H=Object(v.useHistory)(),M=e=>{b({...m,[e.target.name]:e.target.value})};Object(n.useEffect)((()=>{p.a.get(`${V}/api/countries/`).then((e=>{L(e.data)})).catch((e=>{console.error("Error fetching countries",e)}))}),[]),Object(n.useEffect)((()=>{E&&p.a.get(`${V}/api/cities/${E}`).then((e=>{B(e.data)})).catch((e=>{console.error("Error fetching cities",e)}))}),[E]);const Q=Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsxs)(T.a.Group,{children:[Object(g.jsx)(T.a.Label,{children:"Title:"}),Object(g.jsx)(T.a.Control,{type:"text",name:"title",value:h,onChange:M})]}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{children:[Object(g.jsx)(T.a.Label,{children:"Your Content:"}),Object(g.jsx)(T.a.Control,{as:"textarea",name:"content",rows:10,value:O,onChange:M})]}),null===j||void 0===j||null===(t=j.content)||void 0===t?void 0:t.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{controlId:"countrySelect",children:[Object(g.jsx)(T.a.Label,{children:"Select Country"}),Object(g.jsxs)(T.a.Control,{as:"select",value:E||"",onChange:e=>{b({...m,[e.target.name]:e.target.value}),R(e.target.value),D(null)},children:[Object(g.jsx)("option",{value:"",children:"Select a country"}),A.map((e=>Object(g.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),null===j||void 0===j||null===(a=j.selectedCountry)||void 0===a?void 0:a.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{controlId:"citySelect",children:[Object(g.jsx)(T.a.Label,{children:"Select City"}),Object(g.jsxs)(T.a.Control,{as:"select",value:U||"",onChange:e=>{b({...m,[e.target.name]:e.target.value}),D(e.target.value)},disabled:!E,children:[Object(g.jsx)("option",{value:"",children:"Select a city"}),k.map((e=>Object(g.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),null===j||void 0===j||null===(s=j.selectedCity)||void 0===s?void 0:s.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{children:[Object(g.jsx)(T.a.Label,{children:"Traveller Number:"}),Object(g.jsx)(T.a.Control,{type:"number",name:"traveller_number",value:m.traveller_number||"",onChange:M})]}),null===j||void 0===j||null===(c=j.traveller_number)||void 0===c?void 0:c.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{controlId:"relevantForSelect",children:[Object(g.jsx)(T.a.Label,{children:"Relevant For:"}),Object(g.jsxs)(T.a.Control,{as:"select",name:"relevant_for",value:m.relevant_for||"",onChange:M,children:[Object(g.jsx)("option",{value:"",children:"Select a group"}),Object(g.jsx)("option",{value:"all",children:"All Genders & Orientations"}),Object(g.jsx)("option",{value:"women",children:"Women"}),Object(g.jsx)("option",{value:"men",children:"Men"}),Object(g.jsx)("option",{value:"nonbinary",children:"Non-Binary"}),Object(g.jsx)("option",{value:"lgbtq",children:"LGBTQ+ Travelers"})]})]}),null===j||void 0===j||null===(r=j.relevant_for)||void 0===r?void 0:r.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{children:[Object(g.jsx)(T.a.Label,{children:"Duration:"}),Object(g.jsxs)(I.a,{children:[Object(g.jsx)(W.a,{children:Object(g.jsx)(T.a.Control,{type:"number",name:"duration_value",value:m.duration_value||"",onChange:M,placeholder:"Enter number"})}),Object(g.jsx)(W.a,{children:Object(g.jsxs)(T.a.Control,{as:"select",name:"duration_unit",value:m.duration_unit||"days",onChange:M,children:[Object(g.jsx)("option",{value:"days",children:"Day(s)"}),Object(g.jsx)("option",{value:"weeks",children:"Week(s)"}),Object(g.jsx)("option",{value:"months",children:"Month(s)"}),Object(g.jsx)("option",{value:"years",children:"Year(s)"})]})})]})]}),null===j||void 0===j||null===(i=j.duration_value)||void 0===i?void 0:i.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsxs)(T.a.Group,{children:[Object(g.jsx)(T.a.Label,{children:"Image Description:"}),Object(g.jsx)(T.a.Control,{type:"text",name:"image_alt_text",value:_||"",onChange:M,placeholder:"Enter a brief description of your image."})]}),null===j||void 0===j||null===(l=j.image_alt_text)||void 0===l?void 0:l.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsx)(P.a,{className:`${G.a.Button} ${G.a.Brown}`,onClick:()=>{},children:"cancel"}),Object(g.jsx)(P.a,{className:`${G.a.Button} ${G.a.Brown}`,type:"submit",children:"create"})]});return Object(g.jsx)(T.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData,a=E,n=U;t.append("title",h),t.append("content",O),$.current.files[0]&&t.append("image",$.current.files[0]),t.append("image_alt_text",_),t.append("details.country",a),t.append("details.city",n),t.append("details.duration_value",N),t.append("details.duration_unit",y),t.append("details.traveller_number",C),t.append("details.relevant_for",w);const s={headers:{"Content-Type":"multipart/form-data"}};try{const{data:e}=await x.post("/posts/",t,s);H.push(`/posts/${e.id}`)}catch(i){var c,r;if(console.log(i),401!==(null===(c=i.response)||void 0===c?void 0:c.status))u(null===(r=i.response)||void 0===r?void 0:r.data)}},children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(W.a,{className:"py-2 p-0 p-md-2",md:5,lg:4,children:Object(g.jsxs)(S.a,{className:`${o.a.Content} ${J.a.Container} d-flex flex-column justify-content-center`,children:[Object(g.jsxs)(T.a.Group,{className:"text-center",children:[f?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("figure",{children:Object(g.jsx)(K.a,{className:o.a.Image,src:f,rounded:!0})}),Object(g.jsx)("div",{children:Object(g.jsx)(T.a.Label,{className:`${G.a.Button} ${G.a.Brown} btn`,htmlFor:"image-upload",children:"Change image"})})]}):Object(g.jsx)(T.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(g.jsx)(z,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAABOhJREFUeF7tnH9IVFkUx7/jGlJj/7QQblYQFBTUWu5iJBsVuElESmRWYrmmY5FM1oZF9GMjgsoysbJBMd1q2sKi+qOF/mjZjIxmof4o+qdlI91i+7GQlZZO6MRt18Jy9N437865r87713PPuffz4dznu29mXDnpqSHwRUbAxQLI2L8tzAJo+bMAYv4sgAVQEyCuz/cAFkBMgLg8dwALICZAXJ47gAUQEyAuzx3AAogJEJfnDmABxASIy3MHsABiAsTluQNYADEB4vKO7gCXy4VQyNmvtB0pYEXJGkz7bjpiBw1CV1cX7t39C9vWlzpShuMEeLyrMTPt+482jr+bm7GxxOs4CY4SMCMtDUXe1eKzBH3u3L9duIA6XxXxrq5W3jEC3G43KmvrMHjIkLArFPcDX0U5mhob1SgQRjtGQNnBKiSOGj0gqva2NqwpKsTL9vYBY00IcISAZYUepM/LkOZ1v6UFG7zF0vGUgcYLmDRlCjZs3QZXTIwSp1/PncUv9XVKYyiCjRYQFxeH/YfrET90qDIbcT/YuWUzbt+6qTw2mgOMFlBWdQiJI0dZ5tH24gW8BfkIdnZazqF7oLEC5mRmInd5YcTrf/zwIdau8EScR1cCIwUMT0hAua8aMYr7fjhIJ36ux/mzZ3QxjCivcQIE9NqTDRD7v21XKIQSTwH+ffLEtpR2JTJOQEV1DYYnfGXX+t7lCQaDWJ6dZdxRhVECJiYlYeP2HbbD70n4sr0Nnpwl2vJbSWyMAHd8PGqOn7CyBqUxvop9uHLpd6UxOoONEPBFbCx8R/0Q5z3RuFblLcWz1tZolBqwhhEC1m3ajOSUqQNO1q4AcV5UnJ+H18GgXSkt5yEXMGbsWOwor7C8AKsDA01XsL9st9Xhto0jFSDOd6r9x+F2x9u2IJVEnpzF5KempALEK8Ujp+kekNYWFeLxo0cqzmyPJRUgHrqOnTkHuPp+w2X7aj9IaMLNmFSA4DEnIxO5BZGf+ajK+ufBA5QWr0Io1K061NZ4cgGiC0q3/ISvk5NtXVh/ycS/oD+uLELHq1dRqxmuELmAnolNmjwZc+cv6Hc3EudD48ZPCAut9elT3G9pDvt38RGiu3/eQYP/GDn4ngkYI0CGyIjEkdhzyBc29OrlRlSV75VJZUwMCyBWwQJYgDwB3oLkWWmJZAFasMonZQHyrLREsgAtWOWTsgB5VloiWYAWrPJJWYA8Ky2RLEALVvmkLECelZZIFqAFq3xSFiDPSkskC9CCVT4pC5BnpSWSBWjBKp+UBfzPKiU1FUt+yO9F7pTfD/FGSudFLWDW7HRkZGX1WqL/cC2uBwKWl23phUzGgiwsWpbXq2jNgUo0XrxoeSIyA6kFZOcuRebC7F5Trdy9C39cbZKZfp8xLEABHQsgfinPAljAf/3K94D3+9ZndQ8QX+QYNuzLsLt2Z0cHnj9/prCrq4V+9luQGi77o1mA/UyVMhot4Hrg2tvnALu+XK1EJgrB3aFuzEybjeSUFDOfA6LAwMgSxtyEjaQThUmxgChA7q8EC2ABxASIy5N0gPg5maRvviVeOn158d3CG4FARL/CYuk0lH7pn84MWACxSxbAAogJEJfnDmABxASIy3MHsABiAsTluQNYADEB4vLcASyAmABxee4AFkBMgLg8dwALICZAXJ47gFjAG1NgpT+GX+4tAAAAAElFTkSuQmCC",message:"Click or tap here to upload an image."})}),Object(g.jsx)(T.a.File,{id:"image-upload",accept:"image/*",onChange:e=>{e.target.files.length&&(URL.revokeObjectURL(f),b({...m,image:URL.createObjectURL(e.target.files[0])}))},style:{display:"none"},ref:$})]}),null===j||void 0===j||null===(d=j.image)||void 0===d?void 0:d.map(((e,t)=>Object(g.jsx)(F.a,{variant:"warning",children:e},t))),Object(g.jsx)("div",{className:"d-md-none",children:Q})]})}),Object(g.jsx)(W.a,{md:7,lg:8,className:"d-none d-md-block p-0 p-md-2",children:Object(g.jsx)(S.a,{className:o.a.Content,children:Q})})]})})},te=a(38),ae=a.n(te),ne=a(113),se=a(108),ce=a(110),re=a(109),ie=a(28);const oe="http://localhost:8000";var le=e=>{var t;const{id:a,owner:s,created_at:c,updated_at:r,profile_id:i,profile_image:o,title:l,content:d,image:j,comments_count:u,likes_count:m,like_id:b,TripPostPage:h,setTripPost:x,details:v}=e,f=N(),_=(null===f||void 0===f?void 0:f.username)===s,y=null===v||void 0===v?void 0:v.country,C=null===v||void 0===v?void 0:v.city,[w,A]=Object(n.useState)([]),[k,B]=Object(n.useState)("");Object(n.useEffect)((()=>{p.a.get(`${oe}/api/countries/`).then((e=>{A(e.data)})).catch((e=>{console.error("Error fetching countries:",e),A([])})),y&&C&&p.a.get(`${oe}/api/cities/${y}/`).then((e=>{const t=e.data.find((e=>e.id===C));B(t?t.name:"Unknown City")})).catch((e=>{console.error("Error fetching city:",e),B("Unknown City")}))}),[y,C]);const S=(null===(t=w.find((e=>e.id===y)))||void 0===t?void 0:t.name)||"Unknown Country";return Object(g.jsxs)(ne.a,{className:ae.a.TripPost,children:[Object(g.jsx)(ne.a.Body,{children:Object(g.jsxs)(se.a,{className:"align-items-center justify-content-between",children:[Object(g.jsxs)(ie.b,{to:`/profiles/${i}`,className:ae.a.Username,children:[Object(g.jsx)(L,{src:o,height:55}),s]}),Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)("span",{children:r}),_&&h&&"..."]})]})}),Object(g.jsx)(ne.a.Body,{children:l&&Object(g.jsx)(ne.a.Title,{className:"text-center",children:l})}),Object(g.jsx)(ne.a.Body,{children:Object(g.jsx)("div",{className:"text-center",children:Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Location:"})," ",k?`${k}, `:"",S]})})}),Object(g.jsx)(ie.b,{to:`/posts/${a}`,children:Object(g.jsx)(ne.a.Img,{src:j,alt:l})}),Object(g.jsx)(ne.a.Body,{children:Object(g.jsxs)("div",{className:"d-flex align-items-center justify-content-around",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Traveller Number:"})," ",null===v||void 0===v?void 0:v.traveller_number]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Relevant for:"})," ",null===v||void 0===v?void 0:v.relevant_for]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Duration:"})," ",null===v||void 0===v?void 0:v.duration_display]})]})}),Object(g.jsxs)(ne.a.Body,{children:[d&&Object(g.jsx)(ne.a.Text,{children:(e=>e.split("\n").map(((e,t)=>Object(g.jsxs)("span",{children:[e,Object(g.jsx)("br",{})]},t))))(d)}),Object(g.jsxs)("div",{className:ae.a.PostBar,children:[_?Object(g.jsx)(ce.a,{placement:"top",overlay:Object(g.jsx)(re.a,{children:"You can't like your own post!"}),children:Object(g.jsx)("i",{className:"far fa-heart"})}):b?Object(g.jsx)("span",{onClick:async()=>{try{await O.delete(`/likes/${b}/`),x((e=>({...e,results:e.results.map((e=>e.id===a?{...e,likes_count:e.likes_count-1,like_id:null}:e))})))}catch(e){console.log(e)}},children:Object(g.jsx)("i",{className:`fas fa-heart ${ae.a.Heart}`})}):f?Object(g.jsx)("span",{onClick:async()=>{try{const{data:e}=await O.post("/likes/",{post:a});x((t=>({...t,results:t.results.map((t=>t.id===a?{...t,likes_count:t.likes_count+1,like_id:e.id}:t))})))}catch(e){console.log(e)}},children:Object(g.jsx)("i",{className:`far fa-heart ${ae.a.HeartOutline}`})}):Object(g.jsx)(ce.a,{placement:"top",overlay:Object(g.jsx)(re.a,{children:"Log in to like posts!"}),children:Object(g.jsx)("i",{className:"far fa-heart"})}),m,Object(g.jsx)(ie.b,{to:`/posts/${a}`,children:Object(g.jsx)("i",{className:"fa-solid fa-comments"})}),u]})]})]})};var de=function(){const{id:e}=Object(v.useParams)(),[t,a]=Object(n.useState)({results:[]});return Object(n.useEffect)((()=>{(async()=>{try{const[{data:t}]=await Promise.all([x.get(`/posts/${e}`)]);a({results:[t]}),console.log(t)}catch(t){console.log(t)}})()}),[e]),Object(g.jsxs)(I.a,{className:"h-100",children:[Object(g.jsxs)(W.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(g.jsx)("p",{children:"Popular profiles for mobile"}),Object(g.jsx)(le,{...t.results[0],setTripPost:a,TripPostPage:!0}),Object(g.jsx)(S.a,{className:o.a.Content,children:"Comments"})]}),Object(g.jsx)(W.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:"Popular profiles for desktop"})]})};var je=function(){return Object(g.jsxs)("div",{className:o.a.App,children:[Object(g.jsx)(B,{}),Object(g.jsx)(S.a,{className:o.a.Main,children:Object(g.jsxs)(v.Switch,{children:[Object(g.jsx)(v.Route,{exact:!0,path:"/welcome",render:()=>Object(g.jsx)(M,{})}),Object(g.jsx)(v.Route,{exact:!0,path:"/my-feed",render:()=>Object(g.jsx)("h1",{children:"My Feed"})}),Object(g.jsx)(v.Route,{exact:!0,path:"/profiles",render:()=>Object(g.jsx)("h1",{children:"My Profile"})}),Object(g.jsx)(v.Route,{exact:!0,path:"/log-out",render:()=>Object(g.jsx)("h1",{children:"Log Out"})}),Object(g.jsx)(v.Route,{exact:!0,path:"/about-us",render:()=>Object(g.jsx)("h1",{children:"About Us"})}),Object(g.jsx)(v.Route,{exact:!0,path:"/community-guidelines",render:()=>Object(g.jsx)("h1",{children:"Community Guidelines"})}),Object(g.jsx)(v.Route,{exact:!0,path:"/sign-in",render:()=>Object(g.jsx)(Q,{})}),Object(g.jsx)(v.Route,{exact:!0,path:"/sign-up",render:()=>Object(g.jsx)(D,{})}),Object(g.jsx)(v.Route,{exact:!0,path:"/posts/create",render:()=>Object(g.jsx)(ee,{})}),Object(g.jsx)(v.Route,{exact:!0,path:"/posts/:id",render:()=>Object(g.jsx)(de,{})})]})})]})};var ue=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,114)).then((t=>{let{getCLS:a,getFID:n,getFCP:s,getLCP:c,getTTFB:r}=t;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(ie.a,{children:Object(g.jsx)(C,{children:Object(g.jsx)(je,{})})})}),document.getElementById("root")),ue()},11:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",navbarLogo:"NavBar_navbarLogo__3QRxv",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb"}},12:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Brown:"Button_Brown__29kCw",BrownOutline:"Button_BrownOutline__2Yu1a",Bright:"Button_Bright__1MBHR",Black:"Button_Black__2dCp7",BlackOutline:"Button_BlackOutline__I-kZ-"}},15:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr",Image:"App_Image__3UPXw",WhiteText:"App_WhiteText__3JxqD",RobotoFont:"App_RobotoFont__2REEz",DmSerifFont:"App_DmSerifFont__2t5Yl"}},17:function(e,t,a){e.exports={Row:"WelcomePage_Row__lT7p4",Hero:"WelcomePage_Hero__3_V-B",WelcomeTitleContent:"WelcomePage_WelcomeTitleContent__1Ezpz",WelcomeTitle:"WelcomePage_WelcomeTitle__1MepB",WelcomeLogo:"WelcomePage_WelcomeLogo__1Sxm5",WelcomeSlogan:"WelcomePage_WelcomeSlogan__1GKr6",SubSectionTitle:"WelcomePage_SubSectionTitle__7X71a",ImageCol:"WelcomePage_ImageCol__1mRrH",DecorImage:"WelcomePage_DecorImage__1wxsg",TextCol:"WelcomePage_TextCol__3Oo-Y"}},19:function(e,t,a){e.exports={"su-bg-image":"SignInUpForm_su-bg-image__4ON0O","si-bg-image":"SignInUpForm_si-bg-image__2jtNb",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm"}},38:function(e,t,a){e.exports={Post:"TripPost_Post__3LsKn",Username:"TripPost_Username__D42g-",Heart:"TripPost_Heart__3JwKv",HeartOutline:"TripPost_HeartOutline__3DN2O"}},63:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},65:function(e,t,a){e.exports={Container:"TripPostCreateEditForm_Container__2o6AB"}},66:function(e,t,a){e.exports={Asset:"Asset_Asset__1dBcX"}},71:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.fdd88fa4.chunk.js.map